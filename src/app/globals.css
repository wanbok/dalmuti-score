@import "tailwindcss";

/* ===== Light Theme (Default) ===== */
:root {
  /* Surfaces — warm tones */
  --color-surface: #fafaf9;
  --color-surface-elevated: #ffffff;
  --color-surface-sunken: #f5f5f4;
  --color-surface-overlay: rgba(250, 250, 249, 0.95);

  /* Borders — stone palette */
  --color-border: #e7e5e4;
  --color-border-light: #f5f5f4;
  --color-border-focus: #6366f1;

  /* Text — warm gray */
  --color-text-primary: #1c1917;
  --color-text-secondary: #57534e;
  --color-text-tertiary: #a8a29e;
  --color-text-inverse: #ffffff;

  /* Interactive — Primary (Indigo) */
  --color-primary: #6366f1;
  --color-primary-hover: #4f46e5;
  --color-primary-active: #4338ca;
  --color-primary-light: #eef2ff;
  --color-primary-text: #4338ca;

  /* Interactive — Secondary */
  --color-secondary: #e7e5e4;
  --color-secondary-hover: #d6d3d1;
  --color-secondary-active: #a8a29e;
  --color-secondary-text: #1c1917;

  /* Interactive — Danger */
  --color-danger: #ef4444;
  --color-danger-hover: #dc2626;
  --color-danger-active: #b91c1c;
  --color-danger-light: #fef2f2;
  --color-danger-text: #dc2626;

  /* Accent — Amber (game highlights) */
  --color-accent: #f59e0b;
  --color-accent-light: #fef3c7;
  --color-accent-text: #92400e;

  /* Badge — Gold (1st place) */
  --color-badge-gold-bg: #fef3c7;
  --color-badge-gold-text: #92400e;
  --color-badge-gold-border: #fbbf24;

  /* Badge — Silver (2nd place) */
  --color-badge-silver-bg: #f5f5f4;
  --color-badge-silver-text: #44403c;
  --color-badge-silver-border: #d6d3d1;

  /* Badge — Bronze (3rd place) */
  --color-badge-bronze-bg: #ffedd5;
  --color-badge-bronze-text: #9a3412;
  --color-badge-bronze-border: #fb923c;

  /* Badge — Default */
  --color-badge-default-bg: #f5f5f4;
  --color-badge-default-text: #57534e;
  --color-badge-default-border: #e7e5e4;

  /* Score highlight */
  --color-score-zero: #6366f1;

  /* Skeleton loading */
  --color-skeleton: #e7e5e4;

  /* Overlay / Backdrop */
  --color-backdrop: rgba(0, 0, 0, 0.4);

  /* Chart player colors */
  --color-chart-1: #6366f1;
  --color-chart-2: #ef4444;
  --color-chart-3: #10b981;
  --color-chart-4: #f59e0b;
  --color-chart-5: #8b5cf6;
  --color-chart-6: #06b6d4;
  --color-chart-7: #f43f5e;
  --color-chart-8: #84cc16;
  --color-chart-9: #d946ef;
  --color-chart-10: #14b8a6;
  --color-chart-11: #f97316;
  --color-chart-12: #3b82f6;

  /* Recharts theme */
  --color-chart-grid: #e7e5e4;
  --color-chart-text: #78716c;
  --color-chart-tooltip-bg: #ffffff;
  --color-chart-tooltip-border: #e7e5e4;

  /* Success */
  --color-success: #10b981;
  --color-success-text: #059669;

  /* Sticky shadow */
  --shadow-sticky-right: -4px 0 8px -4px rgba(0, 0, 0, 0.08);
  --shadow-sticky-left: 4px 0 8px -4px rgba(0, 0, 0, 0.08);
}

/* ===== Dark Theme (System Preference) ===== */
@media (prefers-color-scheme: dark) {
  :root:not(.light) {
    /* Surfaces — deep navy-purple */
    --color-surface: #1a1a2e;
    --color-surface-elevated: #25254b;
    --color-surface-sunken: #111127;
    --color-surface-overlay: rgba(26, 26, 46, 0.95);

    /* Borders */
    --color-border: #3b3b5e;
    --color-border-light: #25254b;
    --color-border-focus: #818cf8;

    /* Text */
    --color-text-primary: #f5f5f4;
    --color-text-secondary: #a8a29e;
    --color-text-tertiary: #78716c;
    --color-text-inverse: #1c1917;

    /* Interactive — Primary (Indigo lighter) */
    --color-primary: #818cf8;
    --color-primary-hover: #a5b4fc;
    --color-primary-active: #6366f1;
    --color-primary-light: #1e1b4b;
    --color-primary-text: #a5b4fc;

    /* Interactive — Secondary */
    --color-secondary: #3b3b5e;
    --color-secondary-hover: #4b4b70;
    --color-secondary-active: #5b5b80;
    --color-secondary-text: #e7e5e4;

    /* Interactive — Danger */
    --color-danger: #f87171;
    --color-danger-hover: #fca5a5;
    --color-danger-active: #ef4444;
    --color-danger-light: #450a0a;
    --color-danger-text: #fca5a5;

    /* Accent */
    --color-accent: #fbbf24;
    --color-accent-light: #451a03;
    --color-accent-text: #fcd34d;

    /* Badge — Gold */
    --color-badge-gold-bg: #451a03;
    --color-badge-gold-text: #fde68a;
    --color-badge-gold-border: #92400e;

    /* Badge — Silver */
    --color-badge-silver-bg: #3b3b5e;
    --color-badge-silver-text: #d6d3d1;
    --color-badge-silver-border: #4b4b70;

    /* Badge — Bronze */
    --color-badge-bronze-bg: #7c2d12;
    --color-badge-bronze-text: #fed7aa;
    --color-badge-bronze-border: #9a3412;

    /* Badge — Default */
    --color-badge-default-bg: #25254b;
    --color-badge-default-text: #a8a29e;
    --color-badge-default-border: #3b3b5e;

    /* Score highlight */
    --color-score-zero: #818cf8;

    /* Skeleton loading */
    --color-skeleton: #3b3b5e;

    /* Overlay / Backdrop */
    --color-backdrop: rgba(0, 0, 0, 0.6);

    /* Chart player colors (brighter for dark bg) */
    --color-chart-1: #818cf8;
    --color-chart-2: #f87171;
    --color-chart-3: #34d399;
    --color-chart-4: #fbbf24;
    --color-chart-5: #a78bfa;
    --color-chart-6: #22d3ee;
    --color-chart-7: #fb7185;
    --color-chart-8: #a3e635;
    --color-chart-9: #e879f9;
    --color-chart-10: #2dd4bf;
    --color-chart-11: #fb923c;
    --color-chart-12: #60a5fa;

    /* Recharts theme */
    --color-chart-grid: #3b3b5e;
    --color-chart-text: #a8a29e;
    --color-chart-tooltip-bg: #25254b;
    --color-chart-tooltip-border: #3b3b5e;

    /* Success */
    --color-success: #34d399;
    --color-success-text: #34d399;

    /* Sticky shadow */
    --shadow-sticky-right: -4px 0 8px -4px rgba(0, 0, 0, 0.3);
    --shadow-sticky-left: 4px 0 8px -4px rgba(0, 0, 0, 0.3);
  }
}

/* ===== Dark Theme (Manual Override) ===== */
:root.dark {
  --color-surface: #1a1a2e;
  --color-surface-elevated: #25254b;
  --color-surface-sunken: #111127;
  --color-surface-overlay: rgba(26, 26, 46, 0.95);

  --color-border: #3b3b5e;
  --color-border-light: #25254b;
  --color-border-focus: #818cf8;

  --color-text-primary: #f5f5f4;
  --color-text-secondary: #a8a29e;
  --color-text-tertiary: #78716c;
  --color-text-inverse: #1c1917;

  --color-primary: #818cf8;
  --color-primary-hover: #a5b4fc;
  --color-primary-active: #6366f1;
  --color-primary-light: #1e1b4b;
  --color-primary-text: #a5b4fc;

  --color-secondary: #3b3b5e;
  --color-secondary-hover: #4b4b70;
  --color-secondary-active: #5b5b80;
  --color-secondary-text: #e7e5e4;

  --color-danger: #f87171;
  --color-danger-hover: #fca5a5;
  --color-danger-active: #ef4444;
  --color-danger-light: #450a0a;
  --color-danger-text: #fca5a5;

  --color-accent: #fbbf24;
  --color-accent-light: #451a03;
  --color-accent-text: #fcd34d;

  --color-badge-gold-bg: #451a03;
  --color-badge-gold-text: #fde68a;
  --color-badge-gold-border: #92400e;

  --color-badge-silver-bg: #3b3b5e;
  --color-badge-silver-text: #d6d3d1;
  --color-badge-silver-border: #4b4b70;

  --color-badge-bronze-bg: #7c2d12;
  --color-badge-bronze-text: #fed7aa;
  --color-badge-bronze-border: #9a3412;

  --color-badge-default-bg: #25254b;
  --color-badge-default-text: #a8a29e;
  --color-badge-default-border: #3b3b5e;

  --color-score-zero: #818cf8;
  --color-skeleton: #3b3b5e;
  --color-backdrop: rgba(0, 0, 0, 0.6);

  --color-chart-1: #818cf8;
  --color-chart-2: #f87171;
  --color-chart-3: #34d399;
  --color-chart-4: #fbbf24;
  --color-chart-5: #a78bfa;
  --color-chart-6: #22d3ee;
  --color-chart-7: #fb7185;
  --color-chart-8: #a3e635;
  --color-chart-9: #e879f9;
  --color-chart-10: #2dd4bf;
  --color-chart-11: #fb923c;
  --color-chart-12: #60a5fa;

  --color-chart-grid: #3b3b5e;
  --color-chart-text: #a8a29e;
  --color-chart-tooltip-bg: #25254b;
  --color-chart-tooltip-border: #3b3b5e;

  --color-success: #34d399;
  --color-success-text: #34d399;

  --shadow-sticky-right: -4px 0 8px -4px rgba(0, 0, 0, 0.3);
  --shadow-sticky-left: 4px 0 8px -4px rgba(0, 0, 0, 0.3);
}

/* ===== Tailwind v4 Theme Mapping ===== */
@theme inline {
  --color-surface: var(--color-surface);
  --color-surface-elevated: var(--color-surface-elevated);
  --color-surface-sunken: var(--color-surface-sunken);
  --color-surface-overlay: var(--color-surface-overlay);

  --color-border: var(--color-border);
  --color-border-light: var(--color-border-light);
  --color-border-focus: var(--color-border-focus);

  --color-text-primary: var(--color-text-primary);
  --color-text-secondary: var(--color-text-secondary);
  --color-text-tertiary: var(--color-text-tertiary);
  --color-text-inverse: var(--color-text-inverse);

  --color-primary: var(--color-primary);
  --color-primary-hover: var(--color-primary-hover);
  --color-primary-active: var(--color-primary-active);
  --color-primary-light: var(--color-primary-light);
  --color-primary-text: var(--color-primary-text);

  --color-secondary: var(--color-secondary);
  --color-secondary-hover: var(--color-secondary-hover);
  --color-secondary-active: var(--color-secondary-active);
  --color-secondary-text: var(--color-secondary-text);

  --color-danger: var(--color-danger);
  --color-danger-hover: var(--color-danger-hover);
  --color-danger-active: var(--color-danger-active);
  --color-danger-light: var(--color-danger-light);
  --color-danger-text: var(--color-danger-text);

  --color-accent: var(--color-accent);
  --color-accent-light: var(--color-accent-light);
  --color-accent-text: var(--color-accent-text);

  --color-success: var(--color-success);
  --color-success-text: var(--color-success-text);

  --color-score-zero: var(--color-score-zero);
  --color-skeleton: var(--color-skeleton);
  --color-backdrop: var(--color-backdrop);

  --color-badge-gold-bg: var(--color-badge-gold-bg);
  --color-badge-gold-text: var(--color-badge-gold-text);
  --color-badge-gold-border: var(--color-badge-gold-border);
  --color-badge-silver-bg: var(--color-badge-silver-bg);
  --color-badge-silver-text: var(--color-badge-silver-text);
  --color-badge-silver-border: var(--color-badge-silver-border);
  --color-badge-bronze-bg: var(--color-badge-bronze-bg);
  --color-badge-bronze-text: var(--color-badge-bronze-text);
  --color-badge-bronze-border: var(--color-badge-bronze-border);
  --color-badge-default-bg: var(--color-badge-default-bg);
  --color-badge-default-text: var(--color-badge-default-text);
  --color-badge-default-border: var(--color-badge-default-border);

  --color-chart-1: var(--color-chart-1);
  --color-chart-2: var(--color-chart-2);
  --color-chart-3: var(--color-chart-3);
  --color-chart-4: var(--color-chart-4);
  --color-chart-5: var(--color-chart-5);
  --color-chart-6: var(--color-chart-6);
  --color-chart-7: var(--color-chart-7);
  --color-chart-8: var(--color-chart-8);
  --color-chart-9: var(--color-chart-9);
  --color-chart-10: var(--color-chart-10);
  --color-chart-11: var(--color-chart-11);
  --color-chart-12: var(--color-chart-12);

  --color-chart-grid: var(--color-chart-grid);
  --color-chart-text: var(--color-chart-text);
  --color-chart-tooltip-bg: var(--color-chart-tooltip-bg);
  --color-chart-tooltip-border: var(--color-chart-tooltip-border);

  --font-sans: var(--font-noto-sans-kr), "Apple SD Gothic Neo", "Malgun Gothic", sans-serif;
}

/* ===== Base Styles ===== */
body {
  background: var(--color-surface);
  color: var(--color-text-primary);
  font-family: var(--font-sans);
}

/* Smooth theme transition */
html.theme-transitioning,
html.theme-transitioning *,
html.theme-transitioning *::before,
html.theme-transitioning *::after {
  transition: background-color 300ms ease, border-color 300ms ease, color 200ms ease !important;
}

/* Dialog animation */
dialog[open] {
  animation: dialog-in 200ms ease-out;
}

dialog::backdrop {
  animation: backdrop-in 200ms ease-out;
}

@keyframes dialog-in {
  from {
    opacity: 0;
    transform: scale(0.95) translateY(8px);
  }
  to {
    opacity: 1;
    transform: scale(1) translateY(0);
  }
}

@keyframes backdrop-in {
  from { opacity: 0; }
  to { opacity: 1; }
}

/* Sticky column shadows */
.sticky-shadow-left {
  box-shadow: var(--shadow-sticky-left);
}

.sticky-shadow-right {
  box-shadow: var(--shadow-sticky-right);
}

/* Reduced motion */
@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }
}

/* Toast animation */
@keyframes toast-in {
  from {
    opacity: 0;
    transform: translateY(16px) scale(0.95);
  }
  to {
    opacity: 1;
    transform: translateY(0) scale(1);
  }
}

@keyframes toast-out {
  from {
    opacity: 1;
    transform: translateY(0) scale(1);
  }
  to {
    opacity: 0;
    transform: translateY(16px) scale(0.95);
  }
}

/* Coachmark animation */
@keyframes coachmark-in {
  from { opacity: 0; }
  to { opacity: 1; }
}

@keyframes coachmark-tooltip-in {
  from {
    opacity: 0;
    transform: translateY(8px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* Recharts tooltip theme override */
.recharts-default-tooltip {
  background-color: var(--color-chart-tooltip-bg) !important;
  border-color: var(--color-chart-tooltip-border) !important;
  border-radius: 8px !important;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1) !important;
}

.recharts-tooltip-label {
  color: var(--color-text-primary) !important;
  font-weight: 600 !important;
}

.recharts-tooltip-item {
  color: var(--color-text-secondary) !important;
}
